<%- include('../../partials/head' , { title: 'Etiketler' }) %>
<%- include('../../partials/header') %>

<header class="text-end">
    <button type="button" class="btn btn-success abc">
        + Ekle
    </button>
</header>

<div class="container">
<div class="row justify-content-center tagsRow">
    <% if (tags && tags.length > 0) { %>
        <% tags.forEach(function(tag) { %>
            <div class="col-lg-3 col-6 rounded-3 p-4 tags tag-<%= tag.id %>">
                <div style="border-radius: 15px;" class="bg-dark p-3">
                    <span class="text-center d-block text-light fs-3 tag-name-<%= tag.id %>"><%= tag.name %></span>
                    <div class="mt-3 mb-2 text-center">
                        <a href="javascript:;" class="btn btn-primary edit-tag mb-2" data-id="<%= tag.id %>"
                            data-name="<%= tag.name %>">Düzenle</a>
                        <a class="btn btn-danger delete-tag mb-2" href="javascript:;" data-id="<%= tag.id %>">Sil</a>
                    </div>
                </div>
            </div>
        <% }); %>
    <% } else { %>
        <p class="text-center h1 no-tag">Etiket bulunamadı</p>
    <% } %>
</div>
</div>

<div class="modal fade" id="addTagModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
aria-hidden="true">
<div class="modal-dialog" role="document">
    <div class="modal-content">
        <form action="/tags/save" method="POST" id="add-tag-form" class="col-12 text-center add-tag">
            <div class="modal-body">

                <div class="mb-3">
                    <input type="text" class="tag-input form-control" required name="name"
                        placeholder="Etiket ismini giriniz">
                </div>


            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary close" data-dismiss="addTagModal">Kapat</button>
                <button type="submit" class="btn btn-primary">Ekle</button>
            </div>
        </form>
    </div>
</div>
</div>

<div class="modal fade" id="editTagModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
aria-hidden="true">
<div class="modal-dialog" role="document">
    <div class="modal-content">
        <form action="/tags/update" method="POST" id="update-tag-form" class="col-12 text-center update-tag">
            <div class="modal-body">


                <input type="hidden" name="tag_id" class="tag-hidden" value="">

                <div class="mb-3">
                    <input type="text" class="tag-edit-input form-control" required name="name"
                        placeholder="Etiket ismini giriniz">
                </div>


            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary close" data-dismiss="editTagModal">Kapat</button>
                <button type="submit" class="btn btn-primary">Güncelle</button>
            </div>
        </form>
    </div>
</div>
</div>


<%- include('../../partials/footer') %>
